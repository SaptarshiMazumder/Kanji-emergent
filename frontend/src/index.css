@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Clean Japanese-inspired palette */
        --background: 0 0% 98%;
        --foreground: 220 15% 15%;
        
        /* Warm paper-like card background */
        --card: 40 30% 97%;
        --card-foreground: 220 15% 15%;
        
        --popover: 0 0% 100%;
        --popover-foreground: 220 15% 15%;
        
        /* Primary - Deep indigo inspired by traditional ink */
        --primary: 235 35% 25%;
        --primary-foreground: 0 0% 98%;
        
        /* Secondary - Warm stone */
        --secondary: 35 15% 92%;
        --secondary-foreground: 220 15% 20%;
        
        /* Muted tones */
        --muted: 40 10% 94%;
        --muted-foreground: 220 10% 45%;
        
        /* Accent - Soft vermillion (traditional Japanese red) */
        --accent: 8 70% 55%;
        --accent-foreground: 0 0% 100%;
        
        /* JLPT Level colors */
        --jlpt-n5: 142 50% 45%;
        --jlpt-n4: 200 65% 50%;
        --jlpt-n3: 45 80% 50%;
        --jlpt-n2: 25 85% 55%;
        --jlpt-n1: 350 65% 50%;
        
        --destructive: 0 84% 60%;
        --destructive-foreground: 0 0% 98%;
        
        --border: 40 15% 88%;
        --input: 40 15% 88%;
        --ring: 235 35% 25%;
        
        --radius: 0.5rem;
        
        /* Custom shadows */
        --shadow-sm: 0 1px 2px 0 hsl(220 15% 15% / 0.03);
        --shadow-md: 0 4px 6px -1px hsl(220 15% 15% / 0.05), 0 2px 4px -2px hsl(220 15% 15% / 0.05);
        --shadow-lg: 0 10px 15px -3px hsl(220 15% 15% / 0.06), 0 4px 6px -4px hsl(220 15% 15% / 0.06);
        
        /* Transitions */
        --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
        --transition-normal: 250ms cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .dark {
        --background: 220 15% 8%;
        --foreground: 40 10% 94%;
        
        --card: 220 15% 12%;
        --card-foreground: 40 10% 94%;
        
        --popover: 220 15% 10%;
        --popover-foreground: 40 10% 94%;
        
        --primary: 235 40% 65%;
        --primary-foreground: 220 15% 8%;
        
        --secondary: 220 15% 18%;
        --secondary-foreground: 40 10% 90%;
        
        --muted: 220 15% 16%;
        --muted-foreground: 40 10% 60%;
        
        --accent: 8 70% 60%;
        --accent-foreground: 0 0% 100%;
        
        --border: 220 15% 20%;
        --input: 220 15% 20%;
        --ring: 235 40% 65%;
    }
}

@layer base {
    * {
        @apply border-border;
    }
    
    html {
        scroll-behavior: smooth;
    }
    
    body {
        @apply bg-background text-foreground antialiased;
        font-family: 'Inter', 'Noto Sans JP', -apple-system, BlinkMacSystemFont, sans-serif;
    }
    
    /* Japanese typography */
    .font-japanese {
        font-family: 'Noto Sans JP', 'Hiragino Kaku Gothic Pro', 'Meiryo', sans-serif;
    }
    
    /* Kanji display styling */
    .kanji-display {
        font-family: 'Noto Sans JP', serif;
        font-weight: 500;
    }
}

@layer components {
    /* Kanji card styles */
    .kanji-card {
        @apply relative bg-card rounded-xl border border-border;
        box-shadow: var(--shadow-md);
        transition: box-shadow var(--transition-normal), transform var(--transition-normal);
    }
    
    .kanji-card:hover {
        box-shadow: var(--shadow-lg);
        transform: translateY(-2px);
    }
    
    /* Eye reveal button */
    .reveal-btn {
        @apply inline-flex items-center justify-center rounded-full p-2;
        @apply bg-secondary text-secondary-foreground;
        @apply hover:bg-muted;
        transition: background-color var(--transition-fast), transform var(--transition-fast);
    }
    
    .reveal-btn:hover {
        transform: scale(1.05);
    }
    
    .reveal-btn:active {
        transform: scale(0.95);
    }
    
    /* JLPT level badges */
    .jlpt-badge {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
    }
    
    .jlpt-n5 { background-color: hsl(var(--jlpt-n5) / 0.15); color: hsl(var(--jlpt-n5)); }
    .jlpt-n4 { background-color: hsl(var(--jlpt-n4) / 0.15); color: hsl(var(--jlpt-n4)); }
    .jlpt-n3 { background-color: hsl(var(--jlpt-n3) / 0.15); color: hsl(var(--jlpt-n3)); }
    .jlpt-n2 { background-color: hsl(var(--jlpt-n2) / 0.15); color: hsl(var(--jlpt-n2)); }
    .jlpt-n1 { background-color: hsl(var(--jlpt-n1) / 0.15); color: hsl(var(--jlpt-n1)); }
    
    /* Mnemonic dropdown */
    .mnemonic-content {
        @apply text-sm text-muted-foreground leading-relaxed;
        @apply p-4 bg-muted/50 rounded-lg mt-3;
    }
    
    /* Page header */
    .page-header {
        @apply border-b border-border bg-card/80 backdrop-blur-sm sticky top-0 z-10;
    }
    
    /* Loading skeleton for kanji */
    .kanji-skeleton {
        @apply animate-pulse bg-muted rounded-lg;
    }
    
    /* Flashcard flip styles */
    .perspective-1000 {
        perspective: 1000px;
    }
    
    .transform-style-preserve-3d {
        transform-style: preserve-3d;
    }
    
    .backface-hidden {
        backface-visibility: hidden;
    }
    
    .rotate-y-180 {
        transform: rotateY(180deg);
    }
    
    /* Flashcard container */
    .flashcard-container {
        position: relative;
        min-height: 320px;
    }
    
    .flashcard-face {
        position: absolute;
        inset: 0;
        backface-visibility: hidden;
        transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .flashcard-back {
        transform: rotateY(180deg);
    }
    
    .flashcard-flipped .flashcard-front {
        transform: rotateY(180deg);
    }
    
    .flashcard-flipped .flashcard-back {
        transform: rotateY(0deg);
    }
}

@layer utilities {
    /* Smooth fade in animation */
    .animate-fade-in {
        animation: fadeIn 0.3s ease-out forwards;
    }
    
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(8px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    /* Staggered animation delay utilities */
    .animation-delay-100 { animation-delay: 100ms; }
    .animation-delay-200 { animation-delay: 200ms; }
    .animation-delay-300 { animation-delay: 300ms; }
}

/* Debug wrapper styles */
@layer base {
    [data-debug-wrapper="true"] {
        display: contents !important;
    }
}
